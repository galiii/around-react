(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{15:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(7),c=a.n(s),i=(a(6),a(9)),o=a(2),l=a(8),d=function(e,t){return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.statusText))}))},u=new function e(t){var a=this,n=t.baseUrl,r=t.headers;Object(l.a)(this,e),this.getUserInfo=function(){return d("".concat(a._baseUrl,"/users/me"),{headers:a._headers})},this.getInitialCards=function(){return d("".concat(a._baseUrl,"/cards"),{headers:a._headers})},this.addCard=function(e){return d("".concat(a._baseUrl,"/cards"),{headers:a._headers,method:"POST",body:JSON.stringify({name:e["card-title"],link:e["card-link"]})})},this.deleteCard=function(e){return console.log("api",e),d("".concat(a._baseUrl,"/cards/").concat(e),{headers:a._headers,method:"DELETE"})},this.likeCard=function(e){return d("".concat(a._baseUrl,"/cards/likes/").concat(e),{headers:a._headers,method:"PUT"})},this.dislikeCard=function(e){return d("".concat(a._baseUrl,"/cards/likes/").concat(e),{headers:a._headers,method:"DELETE"})},this.editProfileUserInfo=function(e){var t=e.name,n=e.job;return d("".concat(a._baseUrl,"/users/me"),{headers:a._headers,method:"PATCH",body:JSON.stringify({name:t,about:n})})},this.updateUserImage=function(e){return d("".concat(a._baseUrl,"/users/me/avatar"),{headers:a._headers,method:"PATCH",body:JSON.stringify(e)})},this._baseUrl=n,this._headers=r}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"9bc9c0f1-5a8a-40aa-b985-20e7b24d1389","Content-Type":"application/json"}}),p=a(0);var m=function(){return Object(p.jsx)("header",{className:"header",children:Object(p.jsx)("div",{className:"header__logo"})})};var j=function(e){var t=e.card,a=e.onCardClick;return Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:t.link,alt:t.name,className:"card__image",onClick:function(){a(t)}}),Object(p.jsx)("button",{type:"button","aria-label":"Delete",className:"card__delete"}),Object(p.jsxs)("div",{className:"card__row",children:[Object(p.jsx)("h2",{className:"card__title",children:t.name}),Object(p.jsxs)("div",{className:"card__like-container",children:[Object(p.jsx)("button",{type:"button","aria-label":"Like",className:"card__like"}),Object(p.jsx)("span",{className:"card__likes-count",children:t.likes.length})]})]})]})};var b=function(e){return Object(p.jsxs)("main",{className:"content",children:[Object(p.jsxs)("section",{className:"profile",children:[Object(p.jsxs)("div",{className:"profile__image-container",children:[Object(p.jsx)("img",{src:e.user.userAvatar,alt:e.user.userName,className:"profile__image"}),Object(p.jsx)("button",{className:"profile__update-image",onClick:e.onEditAvatarClick})]}),Object(p.jsxs)("div",{className:"profile__section-information",children:[Object(p.jsxs)("div",{className:"profile__row-information",children:[Object(p.jsx)("h1",{className:"profile__name",children:e.user.userName}),Object(p.jsx)("button",{type:"button","aria-label":"Edit",className:"profile__edit-button",onClick:e.onEditProfileClick})]}),Object(p.jsxs)("p",{className:"profile__job",children:[" ",e.user.userDescription]})]}),Object(p.jsx)("button",{type:"button","aria-label":"Add",className:"profile__add-button",onClick:e.onAddPlaceClick})]}),Object(p.jsx)("section",{className:"cards",children:Object(p.jsx)("ul",{className:"cards__list",children:e.cardData.map((function(t,a){return Object(p.jsx)("li",{className:"card",children:Object(p.jsx)(j,{card:t,onCardClick:e.onCardClick},t._id)},t._id)}))})})]})};var _=function(e){return Object(p.jsx)("div",{className:e.isOpen?"popup popup_type_".concat(e.name," popup_open"):"popup popup_type_".concat(e.name),children:Object(p.jsxs)("div",{className:"popup__container",children:[Object(p.jsx)("button",{type:"button","aria-label":"Close",className:"popup__close-button",onClick:e.onClose}),Object(p.jsx)("h3",{className:"popup__title",children:e.title}),Object(p.jsxs)("form",{name:e.formName,action:"#",className:"form",noValidate:!0,children:[e.children,Object(p.jsx)("button",{type:"submit","aria-label":"Submit",className:"form__button",children:e.buttonSubmitTitle})]})]})})};var h=function(e){return console.log("image",e),Object(p.jsx)("div",{className:e.isOpen?"popup popup_type_".concat(e.name," popup_open"):"popup popup_type_".concat(e.name),children:Object(p.jsxs)("div",{className:"popup__container popup__figure-container",children:[Object(p.jsx)("button",{type:"button","aria-label":"Close image",className:"popup__close-button",onClick:e.onClose}),Object(p.jsxs)("figure",{className:"popup__figure",children:[Object(p.jsx)("img",{alt:"default",src:e.selectedCard.link,className:"popup__image"}),Object(p.jsx)("figcaption",{className:"popup__caption","aria-label":e.selectedCard.name,children:e.selectedCard.name})]})]})})};var f=function(){return Object(p.jsx)("footer",{className:"footer",children:Object(p.jsx)("p",{className:"footer__text",children:"2021 Around The U.S."})})},O=a.p+"static/media/profile.b37ec181.jpg";var x=function(){var e=r.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],s=r.a.useState(!1),c=Object(o.a)(s,2),l=c[0],d=c[1],j=r.a.useState(!1),x=Object(o.a)(j,2),N=x[0],g=x[1],C=r.a.useState(!1),v=Object(o.a)(C,2),k=v[0],y=v[1],S=r.a.useState({name:"",link:""}),T=Object(o.a)(S,2),U=T[0],E=T[1],P=function(){g(!1),n(!1),d(!1),y(!1)},A=r.a.useState({userName:"Jacques Cousteau",userDescription:"Explorer",userAvatar:O}),L=Object(o.a)(A,2),D=L[0],I=L[1],w=r.a.useState([]),q=Object(o.a)(w,2),J=q[0],F=q[1];return r.a.useEffect((function(){Promise.all([u.getUserInfo(),u.getInitialCards()]).then((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];I({userName:a.name,userDescription:a.about,userAvatar:a.avatar}),F(Object(i.a)(n)),console.log(n)})).catch(console.error)}),[]),Object(p.jsxs)("div",{className:"page__container",children:[Object(p.jsx)(m,{}),Object(p.jsx)(b,{onEditAvatarClick:function(){return g(!0)},onEditProfileClick:function(){return n(!0)},onAddPlaceClick:function(){return d(!0)},user:D,cardData:J,onCardClick:function(e){E({name:e.name,link:e.link}),y(!0)}}),Object(p.jsx)(f,{}),Object(p.jsxs)(_,{name:"edit-profile",title:"Edit Profile",formName:"profile",buttonSubmitTitle:"Save",isOpen:a,onClose:P,children:[Object(p.jsx)("input",{type:"text",name:"name",id:"name-input",className:"form__input form__input_type_name",placeholder:"name",required:!0,minLength:"2",maxLength:"40"}),Object(p.jsx)("span",{id:"name-input-error"}),Object(p.jsx)("input",{type:"text",name:"job",id:"job-input",className:"form__input form__input_type_job",placeholder:"job",required:!0,minLength:"2",maxLength:"200"}),Object(p.jsx)("span",{id:"job-input-error"})]}),Object(p.jsxs)(_,{name:"update-image-profile",title:"Change profile picture",formName:"profile-img",buttonSubmitTitle:"Save",isOpen:N,onClose:P,children:[Object(p.jsx)("input",{type:"url",name:"avatar",id:"avatar-input",className:"form__input form__input_type_avatar",placeholder:"avatar",required:!0}),Object(p.jsx)("span",{id:"avatar-input-error"})]}),Object(p.jsxs)(_,{name:"add-card",title:"New Place",formName:"new",buttonSubmitTitle:"Create",isOpen:l,onClose:P,children:[Object(p.jsx)("input",{type:"text",name:"card-title",id:"card-title-input",className:"form__input form__input_type_card-title",placeholder:"Title",required:!0,minLength:"1",maxLength:"30"}),Object(p.jsx)("span",{id:"card-title-input-error"}),Object(p.jsx)("input",{type:"url",name:"card-link",id:"card-link-input",className:"form__input form__input_type_card-link",placeholder:"Image link",required:!0}),Object(p.jsx)("span",{id:"card-link-input-error"})]}),Object(p.jsx)(_,{name:"delete-card",title:"Are you sure ?",formName:"delete",buttonSubmitTitle:"Yes"}),Object(p.jsx)(h,{onClose:P,isOpen:k,name:"image",selectedCard:U})]})},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,16)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(x,{})}),document.getElementById("root")),N()},6:function(e,t,a){}},[[15,1,2]]]);
//# sourceMappingURL=main.ac1a27ee.chunk.js.map