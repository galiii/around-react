(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{15:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(7),s=a.n(c),i=(a(6),a(2)),o=a(0);var l=function(){return Object(o.jsx)("header",{className:"header",children:Object(o.jsx)("div",{className:"header__logo"})})},d=a(9),u=a.p+"static/media/profile.b37ec181.jpg",p=a(8),m=function(e,t){return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.statusText))}))},j=new function e(t){var a=this,n=t.baseUrl,r=t.headers;Object(p.a)(this,e),this.getUserInfo=function(){return m("".concat(a._baseUrl,"/users/me"),{headers:a._headers})},this.getInitialCards=function(){return m("".concat(a._baseUrl,"/cards"),{headers:a._headers})},this.addCard=function(e){return m("".concat(a._baseUrl,"/cards"),{headers:a._headers,method:"POST",body:JSON.stringify({name:e["card-title"],link:e["card-link"]})})},this.deleteCard=function(e){return console.log("api",e),m("".concat(a._baseUrl,"/cards/").concat(e),{headers:a._headers,method:"DELETE"})},this.likeCard=function(e){return m("".concat(a._baseUrl,"/cards/likes/").concat(e),{headers:a._headers,method:"PUT"})},this.dislikeCard=function(e){return m("".concat(a._baseUrl,"/cards/likes/").concat(e),{headers:a._headers,method:"DELETE"})},this.editProfileUserInfo=function(e){var t=e.name,n=e.job;return m("".concat(a._baseUrl,"/users/me"),{headers:a._headers,method:"PATCH",body:JSON.stringify({name:t,about:n})})},this.updateUserImage=function(e){return m("".concat(a._baseUrl,"/users/me/avatar"),{headers:a._headers,method:"PATCH",body:JSON.stringify(e)})},this._baseUrl=n,this._headers=r}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"9bc9c0f1-5a8a-40aa-b985-20e7b24d1389","Content-Type":"application/json"}});var b=function(e){var t=e.card,a=e.onCardClick;return Object(o.jsxs)("li",{className:"card",children:[Object(o.jsx)("img",{src:t.link,alt:t.name,className:"card__image",onClick:function(){a(t)}}),Object(o.jsx)("button",{type:"button","aria-label":"Delete",className:"card__delete"}),Object(o.jsxs)("div",{className:"card__row",children:[Object(o.jsx)("h2",{className:"card__title",children:t.name}),Object(o.jsxs)("div",{className:"card__like-container",children:[Object(o.jsx)("button",{type:"button","aria-label":"Like",className:"card__like"}),Object(o.jsx)("span",{className:"card__likes-count",children:t.likes.length})]})]})]})};var _=function(e){console.log("main data",e);var t=r.a.useState([]),a=Object(i.a)(t,2),n=a[0],c=a[1],s=r.a.useState({userName:"Jacques Cousteau",userDescription:"Explorer",userAvatar:u}),l=Object(i.a)(s,2),p=l[0],m=l[1];return r.a.useEffect((function(){Promise.all([j.getUserInfo(),j.getInitialCards()]).then((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];m({userName:a.name,userDescription:a.about,userAvatar:a.avatar}),c(Object(d.a)(n))})).catch(console.error)}),[]),Object(o.jsxs)("main",{className:"content",children:[Object(o.jsxs)("section",{className:"profile",children:[Object(o.jsxs)("div",{className:"profile__image-container",children:[Object(o.jsx)("img",{src:p.userAvatar,alt:p.userName,className:"profile__image"}),Object(o.jsx)("button",{className:"profile__update-image",onClick:e.onEditAvatarClick})]}),Object(o.jsxs)("div",{className:"profile__section-information",children:[Object(o.jsxs)("div",{className:"profile__row-information",children:[Object(o.jsx)("h1",{className:"profile__name",children:p.userName}),Object(o.jsx)("button",{type:"button","aria-label":"Edit",className:"profile__edit-button",onClick:e.onEditProfileClick})]}),Object(o.jsxs)("p",{className:"profile__job",children:[" ",p.userDescription]})]}),Object(o.jsx)("button",{type:"button","aria-label":"Add",className:"profile__add-button",onClick:e.onAddPlaceClick})]}),Object(o.jsx)("section",{className:"cards",children:Object(o.jsx)("ul",{className:"cards__list",children:n.map((function(t){return Object(o.jsx)(b,{card:t,onCardClick:e.onCardClick},t._id)}))})})]})};var h=function(e){return Object(o.jsx)("div",{className:e.isOpen?"popup popup_type_".concat(e.name," popup_open"):"popup popup_type_".concat(e.name),children:Object(o.jsxs)("div",{className:"popup__container",children:[Object(o.jsx)("button",{type:"button","aria-label":"Close",className:"popup__close-button",onClick:e.onClose}),Object(o.jsx)("h3",{className:"popup__title",children:e.title}),Object(o.jsxs)("form",{name:e.formName,action:"#",className:"form",children:[e.children,Object(o.jsx)("button",{type:"submit","aria-label":"Submit",className:"form__button",children:e.buttonSubmitTitle})]})]})})};var f=function(e){return Object(o.jsx)("div",{className:e.isOpen?"popup popup_type_".concat(e.name," popup_open"):"popup popup_type_".concat(e.name),children:Object(o.jsxs)("div",{className:"popup__container popup__figure-container",children:[Object(o.jsx)("button",{type:"button","aria-label":"Close image",className:"popup__close-button",onClick:e.onClose}),Object(o.jsxs)("figure",{className:"popup__figure",children:[Object(o.jsx)("img",{alt:"default",src:e.selectedCard.link,className:"popup__image"}),Object(o.jsx)("figcaption",{className:"popup__caption","aria-label":e.selectedCard.name,children:e.selectedCard.name})]})]})})};var O=function(){return Object(o.jsx)("footer",{className:"footer",children:Object(o.jsx)("p",{className:"footer__text",children:"2021 Around The U.S."})})};var x=function(){var e=r.a.useState(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],c=r.a.useState(!1),s=Object(i.a)(c,2),d=s[0],u=s[1],p=r.a.useState(!1),m=Object(i.a)(p,2),j=m[0],b=m[1],x=r.a.useState(!1),N=Object(i.a)(x,2),C=N[0],g=N[1],v=r.a.useState({name:"",link:""}),k=Object(i.a)(v,2),y=k[0],S=k[1],T=function(){b(!1),n(!1),u(!1),g(!1)};return Object(o.jsxs)("div",{className:"page__container",children:[Object(o.jsx)(l,{}),Object(o.jsx)(_,{onEditAvatarClick:function(){return b(!0)},onEditProfileClick:function(){return n(!0)},onAddPlaceClick:function(){return u(!0)},onCardClick:function(e){S({name:e.name,link:e.link}),g(!0)}}),Object(o.jsx)(O,{}),Object(o.jsxs)(h,{name:"edit-profile",title:"Edit Profile",formName:"profile",buttonSubmitTitle:"Save",isOpen:a,onClose:T,children:[Object(o.jsx)("input",{type:"text",name:"name",id:"name-input",className:"form__input form__input_type_name",placeholder:"name",required:!0,minLength:"2",maxLength:"40"}),Object(o.jsx)("span",{id:"name-input-error"}),Object(o.jsx)("input",{type:"text",name:"job",id:"job-input",className:"form__input form__input_type_job",placeholder:"job",required:!0,minLength:"2",maxLength:"200"}),Object(o.jsx)("span",{id:"job-input-error"})]}),Object(o.jsxs)(h,{name:"update-image-profile",title:"Change profile picture",formName:"profile-img",buttonSubmitTitle:"Save",isOpen:j,onClose:T,children:[Object(o.jsx)("input",{type:"url",name:"avatar",id:"avatar-input",className:"form__input form__input_type_avatar",placeholder:"avatar",required:!0}),Object(o.jsx)("span",{id:"avatar-input-error"})]}),Object(o.jsxs)(h,{name:"add-card",title:"New Place",formName:"new",buttonSubmitTitle:"Create",isOpen:d,onClose:T,children:[Object(o.jsx)("input",{type:"text",name:"card-title",id:"card-title-input",className:"form__input form__input_type_card-title",placeholder:"Title",required:!0,minLength:"1",maxLength:"30"}),Object(o.jsx)("span",{id:"card-title-input-error"}),Object(o.jsx)("input",{type:"url",name:"card-link",id:"card-link-input",className:"form__input form__input_type_card-link",placeholder:"Image link",required:!0}),Object(o.jsx)("span",{id:"card-link-input-error"})]}),Object(o.jsx)(h,{name:"delete-card",title:"Are you sure ?",formName:"delete",buttonSubmitTitle:"Yes"}),Object(o.jsx)(f,{isOpen:C,name:"image",selectedCard:y,onClose:T})]})},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,16)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(x,{})}),document.getElementById("root")),N()},6:function(e,t,a){}},[[15,1,2]]]);
//# sourceMappingURL=main.30973ce6.chunk.js.map